@*@model List<Entities.ViewModels.MissionList>*@
@using Entities.ViewModels
    @model Pagination
@*<div class="home-heading">
        <div class="heading-left">
            <p>explore @Model.totalMissionCount<span> missions</span></p>
        </div>
        <div class="heading-right">
            <div class="selections">
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"
                           style="color: #333333">
                            sort by
                        </a>
                        <ul class="dropdown-menu" id="sort-menu">
                            <li><a class="dropdown-item" >newest</a></li>
                            <li><a class="dropdown-item" >oldest</a></li>
                            <li><a class="dropdown-item" >lowest seats</a></li>
                            <li><a class="dropdown-item" >highest seats</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="images">
                <div class="circle-bg-img switch-view">
                    <a style="cursor: pointer;" id="select-grid-style"><img src="/images/grid.png" alt="" /></a>
    </div>
                <a style="cursor: pointer;" id="select-list-style"><img src="/images/list.png" alt="" /></a>
            </div>
        </div>
    </div>*@
@{
    int missionTotal =(int) Model.totalMissionCount;
}
@if (missionTotal==0)
{
        <div class="noMission"><p style="font-: 2rem; color: gray; letter-spacing:2px">No Mission Found</p></div>
    
}
<div class="row" id="list-switch" style="width: 80vw">
    @foreach(var list in Model.missions){
    <div id="list-card-parent" class="col-12 d-flex p-0 mb-4 border shadow">
        
        <div class="list-image-part position-relative">
            <img src="@list.missionImage" class="list-img"
                alt="" />
            <h5 class="list-card-theme-title bg-white rounded-5 p-2">Environment</h5>
            <div id="list-card-image-content" class="h-100 d-flex flex-column position-absolute p-2">
                <div id="list-location-image" class="list-img-content p-2 rounded-5" style="border-radius:23px">
                    <img src="~/images/pin.png" alt="">
                    @list.cityName
                </div>
                <div class="d-flex flex-column align-items-end" style="position:absolute; top:100px; right: 15px;">
                    <div class="img-heart list-img-content p-2 rounded-5 m-1" style="border-radius:23px">
                        <img src="~/images/heart.png" alt="">
                    </div>
                    <div id="list-user-img" class="list-img-content p-2 rounded-5 m-1" style="border-radius:23px">
                        <img src="~/images/user.png" alt="">
                    </div>
                </div>
            </div>
        </div>
        <div class="list-content-part d-flex flex-column justify-content-around p-2">
            <h5 class="card-title fs-3">@list.missionTitle</h5>
            <p class="card-text">
                @list.missionShortDesc
            </p>
            <div id="list-info-content" class="d-flex justify-content-between">
                <div>
                    <div id="list-star-content" class="d-flex align-items-center justify-content-between">
                        <p class="my-auto">Tree Canada</p>
                        <div class="d-flex align-items-center">
                            <img src="~/images/selected-star.png" alt="">
                            <img src="~/images/selected-star.png" alt="">
                            <img src="~/images/selected-star.png" alt="">
                            <img src="~/images/star.png" alt="">
                            <img src="~/images/star.png" alt="">
                        </div>
                    </div>
                    <div class="list-card-button-apply m-1 p-1 w-100 ">
                        <button id="list-apply-btn" class="btn btn-outline-warning rounded-5 py-2 px-4 fs-5 " style="border-radius:23px">
                            Apply
                            <img src="~/images/right-arrow.png" class="mx-1 ms-3" alt="">
                        </button>
                    </div>
                </div>
                <div>
                    <div id="list-mission-duration-div" >
                        <h5 id="list-card-time-duration-title" class="border bg-white rounded-5 m-auto fs-6 p-2" style="border-radius:23px">From
                            @list.startDate?.ToString("dd-mm-yyyy") until @list.endDate?.ToString("dd-mm-yyyy")
                        </h5>
                    </div>
                    <div id="list-seats-info-card"
                        class="d-flex border-top border-1 position-relative pt-3 align-items-center justify-content-around">
                        <div id="remain-seats-cards" class=" w-50 d-flex align-items-center p-1 px-lg-4 px-md-1">
                            <img id="list-seats-left-image" src="~/images/Seats-left.png" alt="">
                            <div class="d-flex flex-column p-2 ">
                                <p id="count" class="m-0 p-0 fs-5">@list.availableSeats</p>
                                <p id="list-seats-left-text" class="m-0 p-0">Seats left</p>
                            </div>
                        </div>
                        <div id="list-deadline-info-card" class=" w-40 d-flex align-items-center p-1 px-lg-4 px-md-1">
                            <img id="list-deadline-image" src="~/images/deadline.png" alt="">
                            <div class="d-flex flex-column p-2 ">
                                <p id="list-deadline-date" class="m-0 p-0 fs-5">@list.endDate?.ToString("dd-mm-yyyy")</p>
                                <p id="list-deadline-text" class="m-0 p-0">Deadline</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    }
</div>

  <div class="Pagination my-3">
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center" id="pagination">
                @*<li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <!-- <span class="sr-only">Previous</span> -->
                    </a>
                </li>*@

                
                 @for (int i = 1; i <= Model.pageCount; i++)
            {
                <li class="page-item ">
                    <a class="page-link" href="">@i</a>
                </li>
            }
            @*
            <li class="page-item"><a class="page-link" >1</a></li>
                <li class="page-item"><a class="page-link" >2</a></li>
                <li class="page-item"><a class="page-link" >3</a></li>
                <li class="page-item"><a class="page-link" >4</a></li>
                <li class="page-item"><a class="page-link" >5</a></li>*@
                @*<li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <!-- <span class="sr-only">Next</span> -->
                    </a>
                </li>*@
            </ul>
        </nav>
    </div>

    <script>
        var demo=@Model.totalMissionCount;
        $("#totalMissionCount").text(demo);
        console.log("in grid");
        loadPagination();
        function loadPagination(){
            var paging="";
                 $("#pagination li a").on("click",function(e){
                     console.log("in page");
                     e.preventDefault();
                     paging = $(this).text();
                     loadList(null, paging);
                 })
        }


 
 
 </script>

@*<script src="~/js/demo.js" asp-append-version="true"></script>*@